<!-- START OF FILE public/band-dashboard.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Band Dashboard - ProAnthem</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body class="tool flex flex-col min-h-screen">

    <header class="container mx-auto p-6 flex justify-between items-center">
        <a href="/proanthem_index.html" class="flex items-center space-x-4">
            <img src="/assets/logo_pa.jpg" alt="ProAnthem Logo" class="h-12">
            <h1 class="text-4xl font-bold">ProAnthem</h1>
        </a>
        <div id="nav-auth-section"></div>
    </header>

    <main class="container mx-auto px-6 py-12 flex-grow">
        <div id="dashboard-content" style="display: none;">
            <div class="flex flex-col md:flex-row justify-between md:items-center gap-4 mb-8">
                 <div>
                    <h1 id="band-name-header" class="text-4xl font-bold">Band Dashboard</h1>
                    <p id="welcome-message" class="text-lg text-gray-400 mt-2">Welcome, [User Name]!</p>
                 </div>
                 <div class="flex flex-wrap gap-4">
                    <a href="/band.html" class="btn btn-secondary">Band Settings</a>
                    <a href="/stage-plot-editor.html" class="btn btn-secondary">Stage Plots</a>
                    <a href="/ProjectAnthem.html" class="btn btn-primary">Go to Tool</a>
                 </div>
            </div>

            <!-- TAB NAVIGATION -->
            <div class="mt-8 border-b border-gray-700">
                <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                    <button class="tab-button active" data-tab="overview">Overview</button>
                    <button class="tab-button" data-tab="finances">Finances</button>
                    <button class="tab-button" data-tab="merch">Merchandise</button>
                </nav>
            </div>

            <!-- OVERVIEW TAB -->
            <div id="tab-content-overview" class="tab-content mt-8">
                 <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2 bg-gray-900 p-8 rounded-lg shadow-md">
                        <h2 class="text-2xl font-bold mb-4">Band Announcements</h2>
                        <div id="announcements-view" class="prose prose-invert max-w-none"></div>
                        <div id="announcements-edit" class="hidden admin-only">
                            <textarea id="announcements-textarea" class="form-textarea w-full h-64"></textarea>
                            <div class="text-right mt-4"><button id="save-announcements-btn" class="btn btn-primary">Save</button></div>
                        </div>
                    </div>
                    <div class="bg-gray-900 p-8 rounded-lg shadow-md">
                        <h2 class="text-2xl font-bold mb-4">Upcoming Events</h2>
                        <div id="events-list" class="space-y-4"></div>
                        <a href="/band.html" class="text-indigo-400 hover:text-indigo-300 mt-6 inline-block">View Full Calendar â†’</a>
                    </div>
                </div>
            </div>

            <!-- FINANCES TAB -->
            <div id="tab-content-finances" class="tab-content mt-8 hidden">
                <div class="bg-gray-900 p-8 rounded-lg shadow-md">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">Financial Ledger</h2>
                        <button id="add-transaction-btn" class="btn btn-primary admin-only hidden">Add Transaction</button>
                    </div>
                    <p class="text-lg font-bold mb-4">Total Balance: <span id="total-balance" class="text-green-400">$0.00</span></p>
                    <div class="overflow-x-auto"><table class="min-w-full">
                        <thead class="bg-gray-800"><tr>
                            <th class="p-3 text-left">Date</th><th class="p-3 text-left">Description</th>
                            <th class="p-3 text-left">Category</th><th class="p-3 text-right">Amount</th>
                            <th class="p-3 text-right admin-only hidden">Actions</th>
                        </tr></thead>
                        <tbody id="transactions-table-body"></tbody>
                    </table></div>
                </div>
            </div>

            <!-- MERCH TAB -->
            <div id="tab-content-merch" class="tab-content mt-8 hidden">
                 <div class="bg-gray-900 p-8 rounded-lg shadow-md">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">Merchandise Inventory</h2>
                        <button id="add-merch-btn" class="btn btn-primary admin-only hidden">Add Item</button>
                    </div>
                    <div class="overflow-x-auto"><table class="min-w-full">
                        <thead class="bg-gray-800"><tr>
                            <th class="p-3 text-left">Item</th><th class="p-3 text-left">Variant</th>
                            <th class="p-3 text-right">Price</th><th class="p-3 text-right">Stock</th>
                            <th class="p-3 text-right admin-only hidden">Actions</th>
                        </tr></thead>
                        <tbody id="merch-table-body"></tbody>
                    </table></div>
                </div>
            </div>
        </div>
        <div id="access-denied" class="text-center py-20 hidden"></div>
    </main>
    
    <!-- MODALS -->
    <div id="transaction-modal" class="modal-overlay hidden"><div class="modal-content">
        <h2 id="transaction-modal-title" class="text-2xl font-bold">Add Transaction</h2>
        <form id="transaction-form" class="space-y-4 mt-4">
            <input type="hidden" id="transaction-id">
            <input type="date" id="transaction-date" required class="form-input">
            <input type="text" id="transaction-description" required class="form-input" placeholder="Description">
            <div class="grid grid-cols-2 gap-4">
                <input type="number" step="0.01" id="transaction-amount" required class="form-input" placeholder="Amount">
                <select id="transaction-category" required class="form-select">
                    <option value="Venue Payout">Venue Payout</option><option value="Merch Sale">Merch Sale</option>
                    <option value="Other Income">Other Income</option><option value="Fuel">Fuel</option>
                    <option value="Food">Food</option><option value="Equipment">Equipment</option>
                    <option value="Other Expense">Other Expense</option>
                </select>
            </div>
            <div class="flex justify-end gap-4 pt-4"><button type="button" class="btn btn-secondary" onclick="closeModal('transaction-modal')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div>
        </form>
    </div></div>
    
    <div id="merch-modal" class="modal-overlay hidden"><div class="modal-content">
        <h2 id="merch-modal-title" class="text-2xl font-bold">Add Merch Item</h2>
        <form id="merch-form" class="space-y-4 mt-4">
            <input type="hidden" id="merch-id">
            <input type="text" id="merch-item-name" required class="form-input" placeholder="Item Name (e.g., Logo T-Shirt)">
            <input type="text" id="merch-variant-name" class="form-input" placeholder="Variant (e.g., Small, Black)">
            <div class="grid grid-cols-2 gap-4">
                <input type="number" step="0.01" id="merch-price" class="form-input" placeholder="Price (e.g., 20.00)">
                <input type="number" id="merch-stock" required class="form-input" placeholder="Stock Quantity">
            </div>
            <div class="flex justify-end gap-4 pt-4"><button type="button" class="btn btn-secondary" onclick="closeModal('merch-modal')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div>
        </form>
    </div></div>
    
    <footer class="text-center py-6 text-gray-500"></footer>
    
    <script type="module" src="/js/auth.js"></script>
    <script type="module" src="/js/dashboard.js"></script>
    <script>
        // Simple modal helpers
        function closeModal(id) { document.getElementById(id).classList.add('hidden'); }
    </script>
</body>
</html>
<!-- END OF FILE public/band-dashboard.html -->
